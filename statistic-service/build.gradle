apply from: "${project.rootDir}/gradle/spring_boot_project.gradle"

dependencies {
    implementation project(path: ':nettest-shared-server', configuration: 'default')

	// Server
    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-undertow', version: spring_boot_version

	// PostgreSQL
	implementation group: 'org.postgresql', name: 'postgresql', version: postgresql_version

	implementation group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc', version: spring_boot_version

    ///////////

    testCompile group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: spring_boot_version

    testCompile group: 'junit', name: 'junit', version: junit_version
    testCompile group: 'org.hamcrest', name: 'hamcrest-library'
    testCompile group: 'com.jayway.jsonpath', name: 'json-path'
    testCompile group: 'com.jayway.awaitility', name: 'awaitility', version: awaility_version
    testCompile group: 'org.assertj', name: 'assertj-core', version: assertj_core_version
    testCompile group: 'org.jmockit', name: 'jmockit', version: jmockit_version
}

test {
    jvmArgs "-javaagent:${classpath.find { it.name.contains("jmockit") }.absolutePath}"
}